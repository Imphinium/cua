{% load staticfiles%}
{% load tags %}
<!DOCTYPE html>
<link rel="stylesheet" type="text/css" href="{% static 'index/base.css' %}" async>
<html>

<head>
    <meta charset="utf-8">
    <title>CompartidosUA</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.5/umd/popper.min.js" defer></script>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" async rel="stylesheet" id="bootstrap-css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
<div class="container-full">
      <nav class="navbar navbar-expand-lg navbar-light">
			  <a class="navbar-brand" href="/">CompartidosUA</a>
			  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			    <span class="navbar-toggler-icon"></span>
			  </button>

			  <div class="collapse navbar-collapse" id="navbarSupportedContent">
			    <ul class="navbar-nav ml-auto">
			      <li class="nav-item">
			        <a class="nav-link" href="#">Subir</a>
			      </li>
			    </ul>
	        <form action="{% url 'results' %}" method="post"  class="form-inline my-2 my-lg-0 no-row-wrap">
	        	{% csrf_token %}
					  <input type="text" name="query" class="form-control" placeholder="Introduce tu tema a buscar" aria-label="Introduce tu tema a buscar" aria-describedby="button-search">
					  <div class="input-group-append">
					    <button class="btn btn-outline-secondary" type="input" id="button-search">Buscar</button>
					  </div>
					</form>
			  </div>
			</nav>

      <div class="jumbotron text-center">
        <script type="text/javascript">
          var TxtRotate = function(el, toRotate, period) {
            this.toRotate = toRotate;
            this.el = el;
            this.loopNum = 0;
            this.period = parseInt(period, 10) || 2000;
            this.txt = 'ompartidos';
            this.tick();
            this.isDeleting = true;
          };

          TxtRotate.prototype.tick = function() {
            var i = this.loopNum % this.toRotate.length;
            var fullTxt = this.toRotate[i];

            if (this.isDeleting) {
              this.txt = fullTxt.substring(0, this.txt.length - 1);
            } else {
              this.txt = fullTxt.substring(0, this.txt.length + 1);
            }

            this.el.innerHTML = '<span class="wrap">'+this.txt+'</span>';

            var that = this;
            var delta = 300 - Math.random() * 100;

            if (this.isDeleting) { delta /= 2; }

            if (!this.isDeleting && this.txt === fullTxt) {
              delta = this.period;
              this.isDeleting = true;
            } else if (this.isDeleting && this.txt === '') {
              this.isDeleting = false;
              this.loopNum++;
              delta = 500;
            }

            setTimeout(function() {
              that.tick();
            }, delta);
          };

          window.onload = function() {
            var elements = document.getElementsByClassName('txt-rotate');
            for (var i=0; i<elements.length; i++) {
              var toRotate = elements[i].getAttribute('data-rotate');
              var period = elements[i].getAttribute('data-period');
              if (toRotate) {
                new TxtRotate(elements[i], JSON.parse(toRotate), period);
              }
            }
            // INJECT CSS
            var css = document.createElement("style");
            css.type = "text/css";
            css.innerHTML = ".txt-rotate > .wrap { border-right: 0.08em solid #666 }";
            document.body.appendChild(css);
          };
        </script>
        <h1>C<span
             class="txt-rotate"
             data-period="2000"
             data-rotate='[ "ompartidos", "rea", "omunica", "onfia", "onstruye", "opia", "alcula", "olabora", "ita", "elebra" ]'>
            </span>UA
        </h1>
        <p class="lead">Tu web de apuntes, ejercicios y soluciones</p>
        <form action="{% url 'results' %}" method="post" class="input-group mb-3">
        {% csrf_token %}
		  <input name="query" type="text" class="form-control" placeholder="Introduce tu tema a buscar" aria-label="Introduce tu tema a buscar" aria-describedby="button-search">
		  <div class="input-group-append">
		    <button class="btn btn-outline-secondary" type="submit" id="button-search">Buscar</button>
		  </div>
		</form>
      </div>
      
            {% block body_block %}
            {% endblock %}
  
  	  <div class="jumbotron text-center">
        <h1>Apoya a CompartidosUA</h1>
        <p class="lead">Este proyecto comunitario no se podría llevar a cabo sin tu ayuda. Por favor, considera una pequeña donación a CompartidosUA para seguir trayéndote material de calidad, libre y sin anuncios.</p>
        <p><a class="btn btn-large btn-success" href="#" target="ext">Patreon</a></p>
      </div>

</div> <!-- /container full -->
</body>

</html>